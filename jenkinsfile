pipeline { 
     agent any
     stages{
        stage('Checkout GIT') 
        { 
        steps{ 
            echo 'Pulling...'   
              git branch: 'mourad', url: 'https://github.com/mohanedbenmansour/TP-Achat-CodeMages.git';
                 sh "ls"
          }
        }

     stage('Creation livrable'){ 
             steps{ 
                 sh "mvn clean package"
             }
         }
         
         stage('Compilation'){ 
             steps{ 
                 sh "mvn compile"
             }
         }
         stage ('SonarQube tests') {
            steps {
                withSonarQubeEnv(installationName:'sonarqube') { 
                sh 'mvn sonar:sonar'
                }
          }
          }
        }
        }
